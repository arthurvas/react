
import {
    FECTH_USERS_START,
    FECTH_USERS_SUCCESS,
    FECTH_USERS_FAILURE,
    FECTH_USER_BY_ID_START,
    FECTH_USER_BY_ID_SUCCESS,
    FECTH_USER_BY_ID_FAILURE
} from 'action-types/users'


import {
    fetchUsers as fetchUsersApi,
    fetchUserById as fetchUserByIdApi
} from 'api/users' 


export const fetchUsers = () => async dispatch => {
    dispatch({type: FECTH_USERS_START})

    try{
        const users = await fetchUsersApi()
        dispatch({
            type: FECTH_USERS_SUCCESS,
            payload: users
        })
    }catch(err){
        dispatch({
            type: FECTH_USERS_FAILURE,
            payload: err,
            error:true 
        })
    }
}


export const fetchUserById = (name,id) => async dispatch => {
    dispatch({type:FECTH_USER_BY_ID_START})
    try{
        const user = await fetchUserByIdApi(name,id)
        dispatch({
            type:FECTH_USER_BY_ID_SUCCESS,
            payload: user
        })
    }catch(err){
        dispatch({
            type:FECTH_USER_BY_ID_FAILURE,
            payload: err,
            error: true
        })
    }
} 